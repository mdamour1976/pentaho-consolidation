<?xml version="1.0" ?>
<project default="compile" basedir=".">
  <property file="build.properties" />
  <property name="sourcedir" value="${basedir}/src" />
  <property name="librarydir" value="${basedir}/lib" />
  <property name="builddir" value="${basedir}/bin" />

  <path id="classpath.compile">
    <pathelement location="${librarydir}/${dependency.release.core.libbase}"/>
    <pathelement location="${librarydir}/${dependency.release.core.commons-logging}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libloader}"/>
    <pathelement location="${librarydir}/${dependency.release.core.librepository}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libxml}"/>
    <pathelement location="${librarydir}/${dependency.release.core.jaxp}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libformula}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libfonts}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libserializer}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libdocbundle}"/>
    <pathelement location="${librarydir}/${dependency.release.core.libformat}"/>
    <pathelement location="${librarydir}/${dependency.release.core.classic-engine-core}"/>
    <pathelement location="${librarydir}/${dependency.release.core.classic-engine-ext}"/>
    <pathelement location="${librarydir}/${dependency.release.module.misc-beanshell.bsh}"/>
    <pathelement location="${librarydir}/${dependency.release.module.output-itext.itext}"/>
    <pathelement location="${librarydir}/${dependency.release.module.output-table-excel.jakarta-poi}"/>
    <pathelement location="${librarydir}/${dependency.release.core.classic-engine-demo}"/>
    <pathelement location="${librarydir}/${org.eclipse.core.commands}"/>
    <pathelement location="${librarydir}/${org.eclipse.equinox.common}"/>
    <pathelement location="${librarydir}/${org.eclipse.jface}"/>
    <pathelement location="${librarydir}/${swt}"/>
    <pathelement location="${librarydir}/${swtgraphics2d}"/>
  </path>

  <path id="classpath.run">
    <path refid="classpath.compile"/>
    <pathelement location="${builddir}"/>
  </path>

  <target name="compile" description="Compile source code."> 
    <mkdir dir="${builddir}"/>
    <javac srcdir="${sourcedir}" debug="on" destdir="${builddir}" optimize="false" includes="**/*.java">
      <classpath refid="classpath.compile"/> 
    </javac>
  </target>

  <target name="run-demo" depends="compile" description="Run demo frontend."> 
    <java fork="true" classname="org.pentaho.reporting.engine.classic.extensions.swt.demo.DemoFrontend">
      <classpath refid="classpath.run"/>
    	<jvmarg value="-XstartOnFirstThread"/>
    </java>
  </target>

  <target name="run-clean" description="clean up the build dir.">
    <delete dir="${builddir}" />  
  </target>
</project>